version: '3.8'

services:
  hetzner-dns-zone-tool:
    build: .
    # Pre-built: image: ghcr.io/ihavetriediamsure/hetzner_dns_zone_tool:latest
    image: hetzner-dns-zone-tool:latest
    
    # Automatically restart container if it stops
    restart: unless-stopped

    user: "1000:1000"
    read_only: true
    security_opt:
      - no-new-privileges:true
    cap_drop:
      - ALL
    tmpfs:
      - /tmp
    environment:
      - LOG_LEVEL=INFO
    
    ports:
      # Map container port 443 (HTTPS) to host port 8412
      # Access the web interface via https://localhost:8412 (self-signed certificate)
      - "8412:443"
    
    volumes:
      # Bind mount for configuration files
      - /home/admin/Applications/Temp/config:/config
